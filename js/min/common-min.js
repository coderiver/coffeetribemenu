head.ready(function(){!function(){function e(e){N[e].addClass(T.visible),F=e,console.log("Active menu: "+F)}function i(){n()&&N[F].removeClass(T.visible)}function n(){return"undefined"!=typeof F?!0:!1}function s(){m.addClass(T.visible),u.addClass(T.menuOpen)}function a(){m.removeClass(T.visible),f.removeClass(T.active),j[F].removeClass(T.visible),u.removeClass(T.menuOpen)}function o(){y.addClass(T.visible),O.addClass(T.visible),_.addClass(T.visible),u.addClass(T.infoOpen)}function t(){d(),_.removeClass(T.visible),O.removeClass(T.visible),y.removeClass(T.visible),u.removeClass(T.infoOpen)}function l(e){n()&&j[F].removeClass(T.visible),j[e].addClass(T.visible)}function c(e){var i=(e.offset().top+e.height()/2).toFixed(0);C.css("top",i+"px")}function d(){"undefined"!=typeof S&&(w[F][S].removeClass(T.active),A[F][S].removeClass(T.visible),g.html(""),x.html(""),S=void 0)}function v(e,i){var n=w[e][i];console.log("Selected item: "+e+"["+i+"]"),d(),w[e][i].addClass(T.active),A[e][i].addClass(T.visible),g.html(n.infoName),x.text(n.infoText),u.hasClass(T.infoOpen)||o(),S=i}var u=$(".out"),f=$(".category"),m=$(".menu-container"),r=m.find(".menu-container__close"),C=m.find(".menu-container__arrow"),h=$(".menu"),b=".menu-item",p=$(".head"),_=$(".info"),g=_.find(".info__name"),x=_.find(".info__text"),O=$(".photo-container"),k="img/photos/default.jpg",y=$(".overlay"),T={visible:"is-visible",active:"is-active",menuOpen:"menu-is-open",infoOpen:"info-is-open"},N=[],j=[],w=[],A=[],F,S;p.each(function(){var e=$(this),i=e.data("menu");j[i]=e}),f.each(function(){var n=$(this),a=n.data("menu");n.on("click",function(){f.removeClass(T.active),n.addClass(T.active),m.hasClass(T.visible)||s(),i(),t(),setTimeout(function(){l(a),e(a),c(n)},300)})}),h.each(function(){var e=$(this),i=e.data("menu"),n=e.find(b);N[i]=e,w[i]=[],A[i]=[],n.each(function(e){var n=$(this),s=$('<li class="photo" data-menu="'+i+'" data-item="'+e+'"></li>'),a=n.find(".menu-item__photo").attr("src");s.appendTo(O),a?s.css("background-image","url("+a+")"):s.css("background-image","url("+k+")");var o={infoName:n.find(".menu-item__name").html(),infoText:n.find(".menu-item__about").text()};$.extend(!0,n,o),w[i][e]=n,A[i][e]=s,n.on("click",function(){n.hasClass(T.active)||v(i,e)})})}),r.on("click",function(){a(),i(),t()})}()});
//# sourceMappingURL=./common-min.js.map