head.ready(function(){!function(){function e(e){T[e].addClass(y.visible),A=e,console.log("Active menu: "+A)}function i(){n()&&(T[A].removeClass(y.visible),$(j[A]).removeClass(y.active))}function n(){return"undefined"!=typeof A?!0:!1}function s(){f.addClass(y.visible),u.addClass(y.menuOpen)}function a(){f.removeClass(y.visible),u.removeClass(y.menuOpen),d.removeClass(y.active)}function o(){k.addClass(y.visible),x.addClass(y.visible),b.addClass(y.visible),u.addClass(y.infoOpen)}function t(){k.removeClass(y.visible),x.removeClass(y.visible),b.removeClass(y.visible),u.removeClass(y.infoOpen)}function l(e){n()&&N[A].removeClass(y.visible),N[e].addClass(y.visible)}function c(e){var i=(e.offset().top+e.height()/2).toFixed(0);r.css("top",i+"px")}function v(e,i){var n=j[e][i];if(console.log("Selected item: "+e+"["+i+"]"),"undefined"!=typeof F){var s=j[A][F];j[A][F].removeClass(y.active),w[A][F].removeClass(y.visible)}j[e][i].addClass(y.active),w[e][i].addClass(y.visible),_.html(n.infoName),g.html(n.infoText),u.hasClass(y.infoOpen)||o(),F=i}var u=$(".out"),d=$(".category"),f=$(".menu-container"),m=f.find(".menu-container__close"),r=f.find(".menu-container__arrow"),C=$(".menu"),h=".menu-item",p=$(".head"),b=$(".info"),_=b.find(".info__name"),g=b.find(".info__text"),x=$(".photo-container"),O="img/photos/default.jpg",k=$(".overlay"),y={visible:"is-visible",active:"is-active",menuOpen:"menu-is-open",infoOpen:"info-is-open"},T=[],N=[],j=[],w=[],A,F;p.each(function(){var e=$(this),i=e.data("menu");N[i]=e}),d.each(function(){var n=$(this),a=n.data("menu");n.on("click",function(){d.removeClass(y.active),n.addClass(y.active),f.hasClass(y.visible)||s(),i(),setTimeout(function(){l(a),e(a),c(n)},300)})}),C.each(function(){var e=$(this),i=e.data("menu"),n=e.find(h);T[i]=e,j[i]=[],w[i]=[],n.each(function(e){var n=$(this),s=$('<li class="photo" data-menu="'+i+'" data-item="'+e+'"></li>'),a=n.find(".menu-item__photo").attr("src");s.appendTo(x),a?s.css("background-image","url("+a+")"):s.css("background-image","url("+O+")");var o={infoName:n.find(".menu-item__name").html(),infoText:n.find(".menu-item__about").text()};$.extend(!0,n,o),j[i][e]=n,w[i][e]=s,n.on("click",function(){n.hasClass(y.active)||v(i,e)})})}),m.on("click",function(){a(),t(),setTimeout(function(){j[A].removeClass(y.active)},300)})}()});
//# sourceMappingURL=./common-min.js.map